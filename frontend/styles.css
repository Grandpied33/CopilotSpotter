:root {
    --bg: #0f172a;
    --user: #2563eb;
    --assistant: #1f2937;
    --text: #f8fafc;
    --input-bg: rgba(15,23,42,0.6);
    --border: rgba(255,255,255,0.1);
  }
  
  * { box-sizing: border-box; margin:0; padding:0; }
  
  html, body {
    width:100%; height:100%;
    background: var(--bg);
    color: var(--text);
    font-family:"Segoe UI",sans-serif;
    overflow-x:hidden;
  }
  
  .main-container {
    display:grid; place-items:center;
    height:calc(100% - 80px);
  }
  
  .chat-box {
    width:600px; max-width:90%;
    display:flex; flex-direction:column;
  }
  
  #intro {
    text-align:center;
    font-size:1.5rem;
    color:rgba(203,213,225,0.8);
    margin-bottom:2rem;
  }
  
  .chat-container {
    flex:1;
    display:flex; flex-direction:column;
    gap:0.75rem;
    overflow-y:auto;
    padding-right:0.5rem;
  }
  
  .bubble {
    position:relative;
    padding:0.75rem 1rem;
    border-radius:16px;
    line-height:1.4;
    max-width:70%;
    word-break:break-word;
    box-shadow:0 2px 8px rgba(0,0,0,0.3);
    transition:transform .4s ease-out, opacity .4s ease-out;
  }
  
  .bubble.user {
    align-self:flex-end;
    background:var(--user);
    color:#fff;
    border-radius:16px 16px 4px 16px;
  }
  
  .bubble.user::after {
    content:""; position:absolute;
    bottom:8px; right:-6px;
    border-top:6px solid transparent;
    border-bottom:6px solid transparent;
    border-left:6px solid var(--user);
  }
  
  .bubble.assistant {
    align-self:flex-start;
    background:var(--assistant);
    color:var(--text);
    border-radius:16px 16px 16px 4px;
  }
  
  .bubble.assistant::after {
    content:""; position:absolute;
    bottom:8px; left:-6px;
    border-top:6px solid transparent;
    border-bottom:6px solid transparent;
    border-right:6px solid var(--assistant);
  }
  
  /* Barre d’entrée */
  .input-area {
    position:fixed;
    bottom:16px; left:50%;
    transform:translateX(-50%);
    width:600px; max-width:90%;
    display:flex; gap:0.5rem;
    padding:0.75rem;
    background:var(--input-bg);
    backdrop-filter:blur(10px);
    border:1px solid var(--border);
    border-radius:1rem;
  }
  
  .input-area textarea {
    flex:1;
    padding:0.75rem;
    background:#161e2a;
    border:1px solid #374151;
    border-radius:0.5rem;
    color:var(--text);
    font-size:1rem;
    resize:none;
    height:2.5rem;
    scrollbar-width:none; /* Firefox */
  }
  .input-area textarea::-webkit-scrollbar { display:none; }
  
  .input-area button {
    background:var(--user);
    color:#fff;
    border:none; border-radius:0.5rem;
    padding:0 1.2rem;
    font-size:1rem;
    cursor:pointer;
  }
  .input-area button:disabled {
    opacity:.5; cursor:default;
  }
  
  /* Pump animation */
  @keyframes pump {
    0%   { transform:scale(1); }
    50%  { transform:scale(1.02); }
    100% { transform:scale(1); }
  }
  .pump { animation:pump .3s ease-out; }
  
  /* Rep loader */
  .rep-loader {
    align-self:center;
    background:rgba(255,255,255,0.05);
    padding:.5rem 1rem;
    border-radius:.5rem;
    font-family:monospace;
    color:var(--text-light);
    margin:1rem 0;
  }
  
  /* Formatage de programme */
  .program {
    display:flex; flex-direction:column; gap:1.5rem;
  }
  .prog-section {
    padding:.75rem 1rem;
    background:rgba(255,255,255,0.04);
    border-radius:.5rem;
  }
  .prog-step {
    margin-bottom:.5rem;
    font-weight:bold;
    font-size:1.1rem;
  }
  .prog-list {
    list-style:disc inside;
    margin:.5rem 0;
    padding-left:1rem;
  }
  .prog-text {
    margin:.5rem 0;
    line-height:1.4;
  }
  .divider {
    border:none;
    border-top:1px solid rgba(255,255,255,0.2);
    margin:1rem 0;
  }
  