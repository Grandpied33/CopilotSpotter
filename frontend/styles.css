:root {
    --bg: #0f172a;
    --user: #2563eb;
    --assistant: #1f2937;
    --text: #f8fafc;
    --text-light: #cbd5e1;
    --input-bg: rgba(15,23,42,0.6);
    --border: rgba(255,255,255,0.1);
    --shadow: rgba(0,0,0,0.3);
  }
  
  * {
    box-sizing: border-box;
    margin: 0; padding: 0;
  }
  
  html, body {
    width:100%; height:100%;
    background:var(--bg);
    color:var(--text);
    font-family:"Segoe UI",sans-serif;
    overflow-x:hidden;
  }
  
  .main-container {
    display:grid; place-items:center;
    height:calc(100% - 80px);
  }
  
  .chat-box {
    width:600px; max-width:90%;
    display:flex; flex-direction:column;
  }
  
  #intro {
    text-align:center;
    font-size:1.5rem;
    color:var(--text-light);
    margin-bottom:2rem;
  }
  /* Spans pour l'explosion */
  #intro span {
    display:inline-block;
    will-change:transform,opacity;
  }
  
  .chat-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    overflow-y: auto;
    padding-right: 0.5rem;
    padding-bottom: 8rem;       
    scroll-padding-bottom: 8rem;  
  }
  
  /* Bulles */
  .bubble {
    position:relative;
    display:inline-block;
    padding:0.75rem 1rem;
    margin:0.5rem 0;
    border-radius:16px;
    line-height:1.4;
    max-width:70%;
    word-break:break-word;
    box-shadow:0 2px 8px var(--shadow);
  }
  
  .bubble.user {
    background:var(--user);
    color:#fff;
    align-self:flex-end;
    border-radius:16px 16px 4px 16px;
  }
  .bubble.user::after {
    content:""; position:absolute;
    bottom:8px; right:-6px;
    border:6px solid transparent;
    border-left-color:var(--user);
  }
  
  .bubble.assistant {
    background:var(--assistant);
    color:var(--text);
    align-self:flex-start;
    border-radius:16px 16px 16px 4px;
  }
  .bubble.assistant::after {
    content:""; position:absolute;
    bottom:8px; left:-6px;
    border:6px solid transparent;
    border-right-color:var(--assistant);
  }
  
  /* Loader animé */
  .loader {
    display:flex; justify-content:center;
    gap:0.5rem; margin:1rem 0;
  }
  .loader span {
    font-size:1.5rem; opacity:0;
    animation:fade 1s infinite;
  }
  .loader span:nth-child(1){animation-delay:0s;}
  .loader span:nth-child(2){animation-delay:0.25s;}
  .loader span:nth-child(3){animation-delay:0.5s;}
  .loader span:nth-child(4){animation-delay:0.75s;}
  @keyframes fade {
    0%,100%{opacity:0;}
    50%    {opacity:1;}
  }
  
  /* Barre d’entrée fixe */
  .input-area {
    position:fixed; bottom:16px; left:50%;
    transform:translateX(-50%);
    width:600px; max-width:90%;
    display:flex; gap:0.5rem;
    padding:0.75rem;
    background:var(--input-bg);
    backdrop-filter:blur(10px);
    border:1px solid var(--border);
    border-radius:1rem;
  }
  .input-area textarea {
    flex:1;
    padding:0.75rem;
    background:#161e2a;
    border:1px solid #374151;
    border-radius:0.5rem;
    color:var(--text);
    font-size:1rem;
    resize:none;
    height:2.5rem;
    overflow: auto;
    scrollbar-width: none;
    -ms-overflow-style: none;
    font-family: "Segoe UI",sans-serif;
    font-size: 1rem;
    line-height: 1.4;
    font-weight: 1.4;
    letter-spacing: 0.02em;
  }
  .input-area button {
    background:var(--user);
    color:#fff;
    border:none;
    border-radius:0.5rem;
    padding:0 1.2rem;
    font-size:1rem;
    cursor:pointer;
  }
  .input-area button:disabled {
    opacity:0.5; cursor:default;
  }
  
  .input-area textarea::-webkit-scrollbar {
    display: none;
  }